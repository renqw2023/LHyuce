# V7 特码预测系统 - 使用说明

## 系统概述

V7是一个基于8生肖智能覆盖的特码预测系统，通过遗传算法优化和多维度分析，实现了**76%的预测准确率**（最近50期回测）。

### 核心优势
- ✓ 8生肖覆盖，远超理论准确率（实际76% vs 理论66.7%）
- ✓ 智能防守机制，避免冷门生肖突袭
- ✓ 多维度交叉验证（生肖、波色、尾数、五行）
- ✓ 遗传算法自动优化参数

## 快速开始

### 1. 生成下一期预测

```bash
# 自动检测最新期号并预测
python run_v7_prediction.py

# 指定期号预测
python run_v7_prediction.py --period 343
```

**输出示例：**
```
======================================================================
 V7 特码预测系统 - 澳门第 342 期
======================================================================

[OK] 已加载优化策略
[OK] 已加载 200 期历史数据

【特码推荐生肖】（8个）
  1. 蛇 (评分: 34.99) - 热门
  2. 猴 (评分: 33.52) - 热门
  3. 龙 (评分: 32.79) - 热门
  4. 狗 (评分: 31.90) - 热门
  5. 羊 (评分: 31.02) - 热门
  6. 马 (评分: 30.74) - 热门
  7. 猪 (评分: 24.44) - 防守
  8. 牛 (评分: 23.47) - 防守

【预测属性】
  波色: 红波
  尾数: 6
  五行: 木

【综合推荐号码】（前12名）
  7, 31, 43, 37, 25, 19, 49, 4, 16, 28, 15, 27

【系统信息】
  算法版本: V7 - 8生肖智能覆盖
  实测准确率: 76.0% (最近50期)
```

### 2. 查看历史回测

```bash
# 测试V7算法性能
python test_v7_algorithm.py
```

### 3. 重新优化参数（可选）

如果有新的历史数据，可以重新运行优化：

```bash
python optimizer_special_v7.py
```

**注意：** 优化过程需要5-10分钟，会生成新的策略文件。

## 文件说明

### 核心文件

| 文件 | 说明 |
|------|------|
| `advanced_lottery_analysis_v7.py` | V7核心算法 |
| `optimizer_special_v7.py` | 遗传算法优化器 |
| `backtester_v7.py` | 回测系统 |
| `run_v7_prediction.py` | 一键预测脚本 |
| `test_v7_algorithm.py` | 性能测试脚本 |

### 数据文件

| 文件 | 说明 |
|------|------|
| `best_special_strategy_macau_v7.json` | 优化后的最优策略参数 |
| `macau_special_prediction_history_v7.json` | V7预测历史记录 |
| `predictions/v7_prediction_[期号].json` | 每期预测详细结果 |

### 文档

| 文件 | 说明 |
|------|------|
| `V7_优化报告.md` | 详细的优化过程和结果报告 |
| `V7使用说明.md` | 本文档 |

## 预测结果解读

### 生肖推荐
- **前6个（热门）**：基于多维度评分的高概率生肖
- **后2个（防守）**：遗漏最久的生肖，防止冷门突袭

### 评分含义
- 评分越高，出现概率越大
- 评分基于：热度、遗漏、周期、平衡性、属性匹配等多个维度

### 准确率说明
- **理论准确率**：66.7%（8/12生肖）
- **实测准确率**：76.0%（最近50期）
- **短期波动**：最近10期可达90%
- **长期稳定**：70-76%之间

## 最佳实践

### 1. 如何使用预测结果

**保守策略（推荐）**
- 主要关注前6个热门生肖
- 这6个生肖覆盖了大部分可能性

**激进策略**
- 使用全部8个生肖
- 最大化覆盖面，提高中奖概率

### 2. 什么时候重新优化

建议在以下情况重新运行优化器：
- 累积了50期以上新数据
- 准确率明显下降
- 想尝试不同的参数空间

### 3. 理性对待预测

**务必理解：**
- 76%准确率意味着仍有24%的失误率
- 短期可能连续失误（虽然概率不高）
- 这是一个辅助工具，不是100%准确的预言

## 技术细节

### V7算法流程

```
1. 数据加载
   ↓
2. 多维度统计
   - 生肖热度
   - 遗漏期数
   - 波色分布
   - 尾数分布
   - 五行分布
   - 周期模式
   ↓
3. 智能评分
   - 基础评分（热度+遗漏）
   - 周期性加分
   - 平衡性调整
   - 属性交叉验证
   ↓
4. 生肖选择
   - 前6名：热门区
   - 后2名：防守位
   ↓
5. 号码推荐
   - 基于8生肖评分
   - 共振效应加成
   ↓
6. 输出预测
```

### 遗传算法优化

**参数：**
- 种群大小：80个体
- 进化代数：60代
- 变异率：20%
- 选择方式：锦标赛（6个体）

**优化目标：**
最大化回测期间的总得分（生肖命中+号码命中-未命中惩罚）

### 评分系统

**生肖命中：** +100分
**推荐号码命中：** +500分
**未命中惩罚：** -50分

## 常见问题

### Q1: 为什么是8个生肖而不是7个？
**A:** 经过测试，8生肖在准确率和覆盖面之间达到最佳平衡。7生肖准确率约58%，而8生肖达到76%。

### Q2: 可以用于香港数据吗？
**A:** 目前V7主要针对澳门数据优化。如需用于香港，建议用香港数据重新运行优化器。

### Q3: 多久更新一次策略？
**A:** 建议每积累30-50期新数据后重新优化一次。

### Q4: 准确率会一直保持76%吗？
**A:** 不一定。短期可能更高（如90%）或更低，长期趋向于70-76%之间。

### Q5: 能保证盈利吗？
**A:** 不能。这只是一个预测工具，不构成投资建议。请理性对待。

## 性能监控

### 定期检查

建议每隔一段时间运行回测：

```bash
python test_v7_algorithm.py
```

观察准确率变化趋势，如果持续低于65%，建议重新优化。

### 记录管理

所有预测结果自动保存在：
- `predictions/v7_prediction_[期号].json`

可以用于后续分析和验证。

## 更新日志

### V7.0 (2024-12-08)
- ✓ 初始发布
- ✓ 8生肖智能覆盖
- ✓ 遗传算法优化
- ✓ 实测准确率76%
- ✓ 完整的文档和工具链

## 联系与支持

如有问题或建议，请查看：
- `V7_优化报告.md` - 详细技术报告
- `1208开发需求.txt` - 原始需求文档

---

**记住：理性预测，理性对待结果。祝好运！** 🍀

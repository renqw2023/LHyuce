# 更新后的系统使用指南

## 概述

系统已升级为**双核心模式**：
- **V6系统**：原有的4生肖预测（准确率41%）
- **V7系统**：新升级的8生肖智能覆盖（准确率76%） ⭐**推荐**

## 启动方法（不变）

```bash
streamlit run dashboard.py --server.headless true
```

浏览器会自动打开UI界面。

## UI界面使用流程

### 方式一：使用V7快速预测（推荐）⭐

这是最简单快速的方式：

1. 进入 **"执行中心"** 页面
2. 在 **"V7 快速预测"** 区域：
   - 点击 **"🎯 运行V7预测 (澳门)"** 
   - 等待1-2秒，即可获得下期预测
3. （可选）点击 **"📊 查看V7性能"** 查看详细性能分析

**输出内容：**
- 8个推荐生肖（前6个热门 + 2个防守）
- 预测波色、尾数、五行
- 12个综合推荐号码
- 防守提示

**特点：**
- ✅ 快速（1-2秒）
- ✅ 准确率高（76%）
- ✅ 无需优化，直接使用

### 方式二：使用完整的V6流程（传统方式）

如果您想使用原有的完整流程：

1. 进入 **"执行中心"** 页面

2. **第一步：优化策略（可选，已有最优策略可跳过）**
   - 点击 **"🎯 运行特码策略优化 (V6)"**
   - 等待约5-10分钟
   - 点击 **"🧠 运行通用策略优化 (V6)"**
   - 再等待约5-10分钟

3. **第二步：运行每日分析**
   - 点击 **"🚀 运行每日分析"**
   - 系统会：
     * 获取最新开奖数据
     * 复盘上一期预测
     * 生成下一期预测（V6版本）

4. **第三步：查看结果**
   - 进入 **"复盘中心"** 查看历史准确率
   - 进入 **"预测历史"** 查看所有预测记录
   - 进入 **"澳门分析"** 或 **"香港分析"** 查看详细分析

### 方式三：V6+V7对比使用（最全面）

结合两个系统的优势：

1. **先运行V7预测**（快速获取高准确率预测）
   - 点击 **"🎯 运行V7预测 (澳门)"**

2. **再运行V6每日分析**（获取完整复盘和多维度分析）
   - 点击 **"🚀 运行每日分析"**

3. **对比两个系统的预测**
   - V7预测在 `predictions/v7_prediction_[期号].json`
   - V6预测在dashboard的各个页面中

## 功能对比

| 功能 | V6系统 | V7系统 |
|------|--------|--------|
| **预测生肖数** | 4个 | 8个 |
| **准确率** | 41.2% | 76.0% |
| **预测速度** | 需运行每日分析（较慢） | 1-2秒（快速） |
| **复盘功能** | ✅ 完整 | ❌ 无（可手动对比） |
| **UI集成** | ✅ 完全集成 | ✅ 执行中心集成 |
| **多维度分析** | ✅ 丰富 | ⚠️ 专注特码 |
| **优化时间** | 5-10分钟 | 5-10分钟 |

## 推荐使用方案

### 日常使用（推荐）

**每天只需做一件事：**

```
打开UI → 执行中心 → 点击"🎯 运行V7预测"
```

**获得：**
- 8个生肖推荐
- 12个号码推荐
- 76%准确率

### 深度分析（可选）

如果您想要更全面的分析：

```
1. 先运行V7预测（快速获取预测）
2. 再运行每日分析（获取复盘和V6预测）
3. 对比两个系统的预测结果
```

### 策略优化（偶尔）

当准确率下降或有大量新数据时：

**优化V7（推荐）：**
```
执行中心 → V7策略优化 → 点击"🎯 运行V7特码优化"
```

**优化V6（传统）：**
```
执行中心 → AI策略优化 → 分别点击两个V6优化按钮
```

## 查看预测结果

### V7预测结果

**方式1：在执行中心的输出窗口直接查看**

**方式2：查看保存的JSON文件**
```
predictions/v7_prediction_[期号].json
```

**方式3：查看性能报告**
```
v7_performance_report.json
```

### V6预测结果

在UI界面中：
- **"预测历史"** 页面：查看所有历史预测
- **"复盘中心"** 页面：查看准确率统计
- **"澳门分析"/"香港分析"** 页面：查看详细分析结果

## 命令行快捷方式（高级用户）

如果您不想打开UI，可以直接使用命令行：

### V7预测
```bash
# 快速预测
python run_v7_prediction.py

# 查看性能
python test_v7_algorithm.py

# 可视化分析
python visualize_v7_performance.py
```

### V6分析
```bash
# 每日分析
python run_daily_analysis.py

# 优化策略
python optimizer_special.py
python optimizer.py
```

## 文件位置说明

### V7相关文件
```
advanced_lottery_analysis_v7.py       # V7核心算法
optimizer_special_v7.py               # V7优化器
backtester_v7.py                      # V7回测器
run_v7_prediction.py                  # V7预测脚本
test_v7_algorithm.py                  # V7测试脚本
visualize_v7_performance.py           # V7性能分析

best_special_strategy_macau_v7.json   # V7最优策略
predictions/v7_prediction_*.json      # V7预测结果
v7_performance_report.json            # V7性能报告
```

### V6相关文件
```
advanced_lottery_analysis.py          # V6核心算法
optimizer.py / optimizer_special.py   # V6优化器
backtester.py                         # V6回测器
run_daily_analysis.py                 # V6每日分析

best_strategy_*.json                  # V6最优策略
*_prediction_history.json             # V6预测历史
review_log.json                       # 复盘日志
```

## 常见问题

### Q1: 我还需要运行V6的优化和每日分析吗？

**A:** 不一定。如果您只关心特码预测和高准确率，**直接使用V7预测即可**。

如果您还想要：
- 完整的复盘功能
- 多维度的分析（2中2、3中3组合等）
- 历史准确率追踪

那么可以**同时使用V6和V7**。

### Q2: V7和V6可以一起使用吗？

**A:** 完全可以！它们是独立的系统：
- V7专注于特码预测（8生肖，76%准确率）
- V6提供全面分析（4生肖特码 + 通用号码分析）

### Q3: 哪个系统更准？

**A:** V7的特码预测准确率更高（76% vs 41%），但V6提供更全面的分析维度。

**建议：**
- **特码预测**：优先使用V7
- **全面分析**：使用V6
- **最佳方案**：两者结合使用

### Q4: 多久优化一次策略？

**A:** 
- **V7**：每30-50期新数据后优化一次
- **V6**：同样建议每30-50期优化一次
- 如果准确率明显下降，立即重新优化

### Q5: UI界面在哪里看V7的预测？

**A:** 目前V7预测结果显示在：
1. 执行中心的输出窗口（运行后立即显示）
2. JSON文件：`predictions/v7_prediction_[期号].json`

未来可能会添加专门的"V7预测历史"页面。

## 迁移建议

从纯V6系统迁移到V6+V7双系统：

**第一周：熟悉V7**
```
Day 1-3: 每天运行V7预测，观察结果
Day 4-7: 对比V7预测和实际开奖，验证准确率
```

**第二周：正式使用**
```
推荐流程：
1. 每天运行V7预测（用于下注参考）
2. 每周运行一次V6每日分析（用于复盘和全面分析）
```

**长期使用：**
```
- 主要使用V7预测（快速、准确）
- 定期查看V6复盘（了解长期表现）
- 每月优化一次策略（保持最佳状态）
```

## 总结

**最简单的使用方式：**
```
打开UI → 执行中心 → 运行V7预测 → 完成！
```

**最全面的使用方式：**
```
1. 运行V7预测（获取高准确率特码预测）
2. 运行每日分析（获取完整复盘和V6分析）
3. 查看各个页面的详细数据
```

**您可以根据自己的需求选择合适的方式！** 🎯
